{
  "engagement_thresholds": {
    "critical": 0.3,
    "low": 0.5,
    "moderate": 0.7,
    "good": 0.85,
    "excellent": 0.95
  },
  "re_engagement_settings": {
    "min_messages_before_check": 3,
    "cooldown_seconds": 60,
    "max_attempts_per_session": 5,
    "force_trigger_on_critical": true,
    "skip_during_scripts": true
  },
  "loop_detection": {
    "interview_mode": {
      "min_questions_threshold": 3,
      "severity_multiplier": 0.8
    },
    "validation_seeking": {
      "path_l_repeat_threshold": 3,
      "severity_multiplier": 0.7
    },
    "topic_exhaustion": {
      "topic_repeat_threshold": 4,
      "severity_multiplier": 0.9
    },
    "dead_end_pattern": {
      "short_reply_threshold": 10,
      "consecutive_count": 3,
      "severity_multiplier": 0.85
    },
    "polite_disengagement": {
      "emoji_decline_threshold": 0.3,
      "punctuation_decline_threshold": 0.3,
      "severity_multiplier": 0.75
    }
  },
  "engagement_scoring_weights": {
    "message_length": 0.25,
    "emotional_expression": 0.20,
    "question_asking": 0.15,
    "response_variety": 0.15,
    "energy_intensity": 0.15,
    "conversation_depth": 0.10
  },
  "topic_selection": {
    "scoring_weights": {
      "freshness": 0.40,
      "success_rate": 0.30,
      "energy_alignment": 0.20,
      "base_score": 0.10
    },
    "freshness_decay_per_use": 0.2,
    "success_learning_rate": 0.15,
    "min_cooldown_between_uses": 300
  },
  "strategy_preferences": {
    "critical_engagement": {
      "preferred": ["random_interruption", "playful_challenge"],
      "avoid": ["vulnerable", "callback"]
    },
    "dead_end_pattern": {
      "preferred": ["random_interruption", "pivot"],
      "avoid": ["callback"]
    },
    "interview_mode": {
      "preferred": ["pivot", "playful_challenge"],
      "avoid": ["callback"]
    },
    "topic_exhaustion": {
      "preferred": ["random_interruption", "pivot"],
      "avoid": ["callback"]
    },
    "validation_seeking": {
      "preferred": ["playful_challenge", "pivot"],
      "avoid": ["vulnerable"]
    },
    "gradual_decline": {
      "preferred": ["callback", "pivot", "vulnerable"],
      "avoid": []
    }
  },
  "topic_category_preferences": {
    "early_relationship": {
      "preferred": ["casual", "playful"],
      "avoid": ["intimate", "deep"]
    },
    "developing_relationship": {
      "preferred": ["casual", "playful", "deep"],
      "avoid": []
    },
    "established_relationship": {
      "preferred": ["casual", "playful", "intimate", "deep"],
      "avoid": []
    }
  },
  "energy_alignment_rules": {
    "LOW_COOPERATIVE": {
      "preferred_categories": ["casual", "deep"],
      "boost_multiplier": 1.2
    },
    "MEDIUM_NEUTRAL": {
      "preferred_categories": ["casual", "random"],
      "boost_multiplier": 1.3
    },
    "HIGH_PLAYFUL": {
      "preferred_categories": ["playful", "random"],
      "boost_multiplier": 1.4
    },
    "HIGH_INTIMATE": {
      "preferred_categories": ["intimate", "playful"],
      "boost_multiplier": 1.3
    },
    "MEDIUM_COMBATIVE": {
      "preferred_categories": ["playful", "deep"],
      "boost_multiplier": 1.2
    }
  },
  "measurement_windows": {
    "recent_messages_for_trends": 10,
    "message_length_history_size": 10,
    "emoji_density_history_size": 10,
    "engagement_history_size": 20
  },
  "monitoring": {
    "log_engagement_scores": true,
    "log_loop_detections": true,
    "log_reengagement_attempts": true,
    "verbose_mode": false
  },
  "feature_flags": {
    "enable_engagement_monitoring": true,
    "enable_loop_detection": true,
    "enable_topic_reengagement": true,
    "enable_dynamic_strategy_selection": true,
    "enable_callback_topics": true,
    "enable_random_interruptions": true
  }
}
